<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="theme-color" content="#2563eb">
    <title>PSE1/PSE2 - RÃ©visions Secourisme</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                ğŸš‘ <span>United hatzalah RÃ©visions</span>
            </div>
            <div class="header-actions">
                <button class="btn-icon" id="quickReviewBtn" aria-label="RÃ©vision rapide" title="RÃ©vision rapide">âš¡</button>
                <button class="btn-icon" id="fontSizeBtn" aria-label="Personnalisation" title="Personnalisation">A</button>
                <button class="btn-icon desktop-only" id="flashcardsHeaderBtn" aria-label="Flashcards" title="Flashcards">ğŸ´</button>
                <button class="btn-icon desktop-only" id="progressHeaderBtn" aria-label="Progression" title="Progression">ğŸ“Š</button>
                <button class="btn-icon" id="searchBtn" aria-label="Rechercher">ğŸ”</button>
                <button class="btn-icon" id="themeBtn" aria-label="Changer thÃ¨me">ğŸŒ™</button>
                <button class="btn-icon" id="menuBtn" aria-label="Menu">â˜°</button>
            </div>
        </div>
    </header>

    <!-- Barre de recherche -->
    <div class="search-bar" id="searchBar">
        <input type="search" class="search-input" id="searchInput" placeholder="Rechercher... (ex: valve mitrale)" autocomplete="off">
        <div class="search-results" id="searchResults"></div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="nav-section">
            <div class="nav-section-title">ğŸ“š Contenu</div>
            <div class="nav-item" data-section="intro">ğŸ“Œ Introduction</div>
            <div class="nav-item" data-section="biologie">ğŸ§¬ Biologie de base</div>
            
            <div class="nav-item" data-section="nerveux">ğŸ§  SystÃ¨me nerveux</div>
            <div class="nav-sub-item" data-section="nerveux-cerveau">Le cerveau</div>
            <div class="nav-sub-item" data-section="nerveux-snc">SNC (cerveau/moelle)</div>
            <div class="nav-sub-item" data-section="nerveux-snp">SNP (somatique/autonome)</div>
            <div class="nav-sub-item" data-section="nerveux-nerfs">Nerfs et transmission</div>
            
            <div class="nav-item" data-section="respiratoire">ğŸ« SystÃ¨me respiratoire</div>
            <div class="nav-sub-item" data-section="respiratoire-anatomie">Anatomie</div>
            <div class="nav-sub-item" data-section="respiratoire-echanges">Ã‰changes gazeux</div>
            
            <div class="nav-item" data-section="cardio">ğŸ«€ SystÃ¨me cardio-vasculaire</div>
            <div class="nav-sub-item" data-section="cardio-coeur">Le cÅ“ur</div>
            <div class="nav-sub-item" data-section="cardio-vaisseaux">Vaisseaux sanguins</div>
            <div class="nav-sub-item" data-section="cardio-sang">Le sang</div>
        </div>
    </nav>
    <div class="sidebar-tab" id="sidebarTab">ğŸ“š MENU</div>

    <!-- Contenu principal -->
    <main class="main-content" id="mainContent">
        <div class="breadcrumb" id="breadcrumb">
            <span>ğŸ  Accueil</span>
        </div>
        
        <div id="contentArea">
            <!-- Le contenu sera injectÃ© ici -->
        </div>
    </main>

    <!-- Bouton retour en haut -->
    <button class="scroll-top" id="scrollTop" aria-label="Retour en haut">â†‘</button>

    <!-- Bottom Navigation (mobile) -->
    <nav class="bottom-nav">
        <button class="bottom-nav-item active" id="navHome">
            <span class="bottom-nav-icon">ğŸ </span>
            <span>Accueil</span>
        </button>
        <button class="bottom-nav-item" id="navSearch">
            <span class="bottom-nav-icon">ğŸ”</span>
            <span>Recherche</span>
        </button>
        <button class="bottom-nav-item" id="navMenu">
            <span class="bottom-nav-icon">ğŸ“š</span>
            <span>Sections</span>
        </button>
        <button class="bottom-nav-item" id="navFlashcards">
            <span class="bottom-nav-icon">ğŸ´</span>
            <span>Flashcards</span>
        </button>
        <button class="bottom-nav-item" id="navProgress">
            <span class="bottom-nav-icon">ğŸ“Š</span>
            <span>Progression</span>
        </button>
    </nav>

    <!-- Install prompt -->
    <div class="install-prompt" id="installPrompt">
        <span>ğŸ“² Installer l'app pour un accÃ¨s hors-ligne ?</span>
        <button class="install-btn" id="installBtn">Installer</button>
    </div>

    <!-- Lightbox pour images -->
    <div class="lightbox" id="lightbox">
        <button class="lightbox-close" id="lightboxClose">âœ•</button>
        <img id="lightboxImg" src="" alt="">
    </div>

    <!-- Modal Flashcards -->
    <div class="modal" id="flashcardModal">
        <div class="modal-overlay" id="flashcardOverlay"></div>
        <div class="modal-content flashcard-container">
            <button class="modal-close" id="closeFlashcards">âœ•</button>
            
            <div class="flashcard-header">
                <h2>ğŸ´ Mode Flashcards</h2>
                <div class="flashcard-filters">
                    <select id="flashcardSection" class="flashcard-filter">
                        <option value="all">Toutes les sections</option>
                        <option value="intro">Introduction</option>
                        <option value="biologie">Biologie</option>
                        <option value="nerveux">SystÃ¨me nerveux</option>
                        <option value="nerveux-cerveau">Le cerveau</option>
                        <option value="nerveux-snp">SNP</option>
                        <option value="nerveux-nerfs">Nerfs</option>
                        <option value="respiratoire">SystÃ¨me respiratoire</option>
                        <option value="respiratoire-anatomie">Anatomie respiratoire</option>
                        <option value="respiratoire-echanges">Ã‰changes gazeux</option>
                        <option value="cardio">SystÃ¨me cardio-vasculaire</option>
                        <option value="cardio-coeur">Le cÅ“ur</option>
                        <option value="cardio-vaisseaux">Vaisseaux</option>
                        <option value="cardio-sang">Le sang</option>
                    </select>
                    <button class="btn-secondary" id="shuffleFlashcards">ğŸ”€ MÃ©langer</button>
                </div>
            </div>

            <div class="flashcard-progress">
                <span id="flashcardCounter">0 / 0</span>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="flashcardProgressBar"></div>
                </div>
            </div>

            <div class="flashcard" id="flashcard">
                <div class="flashcard-inner">
                    <div class="flashcard-front">
                        <div class="flashcard-label">QUESTION</div>
                        <div class="flashcard-text" id="flashcardQuestion"></div>
                        <button class="btn-primary flashcard-flip-btn" id="flipToBack">
                            Voir la rÃ©ponse â†’
                        </button>
                    </div>
                    <div class="flashcard-back">
                        <div class="flashcard-label">RÃ‰PONSE</div>
                        <div class="flashcard-text" id="flashcardAnswer"></div>
                        <div class="difficulty-buttons">
                            <button class="btn-difficulty difficulty-hard" data-difficulty="3">
                                ğŸ˜“ Difficile
                            </button>
                            <button class="btn-difficulty difficulty-medium" data-difficulty="2">
                                ğŸ˜ Moyen
                            </button>
                            <button class="btn-difficulty difficulty-easy" data-difficulty="1">
                                ğŸ˜Š Facile
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flashcard-navigation">
                <button class="btn-secondary" id="prevFlashcard">â† PrÃ©cÃ©dente</button>
                <button class="btn-secondary" id="skipFlashcard">Passer</button>
                <button class="btn-secondary" id="nextFlashcard">Suivante â†’</button>
            </div>

            <div class="flashcard-stats">
                <div class="stat-item">
                    <span class="stat-label">Faciles</span>
                    <span class="stat-value" id="easyCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Moyennes</span>
                    <span class="stat-value" id="mediumCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Difficiles</span>
                    <span class="stat-value" id="hardCount">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Progression -->
    <div class="modal" id="progressModal">
        <div class="modal-overlay" id="progressOverlay"></div>
        <div class="modal-content progress-container">
            <button class="modal-close" id="closeProgress">âœ•</button>
            
            <div class="progress-header">
                <h2>ğŸ“Š Ma Progression</h2>
                <div class="progress-percentage" id="progressPercentage">0%</div>
            </div>

            <div class="progress-bar-large">
                <div class="progress-bar-fill" id="progressBarLarge"></div>
            </div>

            <div class="progress-stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“š</div>
                    <div class="stat-info">
                        <span class="stat-number" id="sectionsRead">0</span>
                        <span class="stat-label">Sections lues</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">â±ï¸</div>
                    <div class="stat-info">
                        <span class="stat-number" id="timeSpent">0 min</span>
                        <span class="stat-label">Temps de rÃ©vision</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ¯</div>
                    <div class="stat-info">
                        <span class="stat-number" id="streakDays">0</span>
                        <span class="stat-label">Jours consÃ©cutifs</span>
                    </div>
                </div>
            </div>

            <div class="progress-actions">
                <button class="btn-primary" id="markAllRead">âœ“ Tout marquer comme lu</button>
                <button class="btn-danger" id="resetProgress">ğŸ”„ RÃ©initialiser</button>
            </div>

            <div class="sections-checklist">
                <h3>Sections</h3>
                <div id="sectionsChecklistContent"></div>
            </div>
        </div>
    </div>

    <!-- Modal RÃ©vision Rapide -->
    <div class="modal" id="quickReviewModal">
        <div class="modal-overlay" id="quickReviewOverlay"></div>
        <div class="modal-content quick-review-container">
            <button class="modal-close" id="closeQuickReview">âœ•</button>
            
            <div class="quick-review-header">
                <h2>âš¡ RÃ©vision Rapide</h2>
                <p>Points critiques Ã  retenir</p>
            </div>

            <div class="quick-review-actions">
                <button class="btn-secondary" id="printReview">ğŸ–¨ï¸ Imprimer</button>
                <button class="btn-secondary" id="copyReview">ğŸ“‹ Copier</button>
            </div>

            <div id="quickReviewContent"></div>
        </div>
    </div>

    <!-- Modal Personnalisation -->
    <div class="modal" id="customizeModal">
        <div class="modal-overlay" id="customizeOverlay"></div>
        <div class="modal-content customize-container">
            <button class="modal-close" id="closeCustomize">âœ•</button>
            
            <h2>ğŸ¨ Personnalisation</h2>

            <div class="customize-section">
                <h3>Taille de police</h3>
                <div class="font-size-controls">
                    <button class="btn-secondary" id="fontSizeDecrease">A-</button>
                    <span id="fontSizeDisplay">16px</span>
                    <button class="btn-secondary" id="fontSizeIncrease">A+</button>
                </div>
            </div>

            <div class="customize-section">
                <h3>Couleur d'accentuation</h3>
                <div class="color-picker">
                    <button class="color-option active" data-color="#2563eb" style="background: #2563eb" title="Bleu"></button>
                    <button class="color-option" data-color="#10b981" style="background: #10b981" title="Vert"></button>
                    <button class="color-option" data-color="#8b5cf6" style="background: #8b5cf6" title="Violet"></button>
                    <button class="color-option" data-color="#f59e0b" style="background: #f59e0b" title="Orange"></button>
                    <button class="color-option" data-color="#ec4899" style="background: #ec4899" title="Rose"></button>
                </div>
            </div>

            <div class="customize-section">
                <h3>AccessibilitÃ©</h3>
                <label class="toggle-switch">
                    <input type="checkbox" id="dyslexicModeToggle">
                    <span class="toggle-slider"></span>
                    <span class="toggle-label">Police dyslexie-friendly</span>
                </label>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>